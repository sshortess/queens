#!/usr/bin/env python

#bit_set
#bit_clr
#bit_chk

class bit_field(object):
   """
   """

   def __init__(self, value=0):
      self._d = value

   def __getitem__(self,index):
      return (self._d >> index) & 1

   def __setitem__(self,index,value):
      value = (value & 1L) << index
      mask = (1L) << index
      self._d = (self._d & ~mask) | value

   def __getslice__(self, start, end):
      mask = 2L **(end - start) -1
      return (self._d >> start) & mask

   def __setslice__(self, start, end, value):
      mask = 2L **(end - start) -1
      value = (value & mask) << start
      mask = mask << start
      self._d = (self._d & ~mask) | value
      return (self._d >> start) & mask

   def __int__(self):
      return self._d


k = bit_field()

k[3:7] = 5
print k[3]
print k[5]
k[7] =1
print k[4:8]
print int(k)




